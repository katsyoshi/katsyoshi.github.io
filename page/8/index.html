<!DOCTYPE html>
<html lang="en"><head><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LQZYYM4LL2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LQZYYM4LL2');
</script>


<script>
  !function(o,e,n){var r=[];if(window.reproio)console.info("Repro Web SDK was loaded more than once");else{window.reproio=function(){r.push(arguments)};var i=o.createElement(e),t=o.getElementsByTagName(e)[0];i.src="https://cdn.reproio.com/web/v2/repro-sdk.min.js",i.async=!0,i.crossOrigin="",i.onload=function(){window.reproio("setSnippetVersion","2.1"),r.forEach(function(o){window.reproio.apply(window.reproio,o)})},t.parentNode.insertBefore(i,t)}}(document,"script");
  reproio("setup", "ff3c22fd-f7d1-4958-b16e-e57054f33d44");
  reproio("track", "pageView");
</script>
<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 8 of 13 for katsyoshi のめもみたいなの - page 8 | katsyoshi のめもみたいなの</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="katsyoshi のめもみたいなの - page 8" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="It’s a memos." />
<meta property="og:description" content="It’s a memos." />
<link rel="canonical" href="https://blog.katsyoshi.org/page/8/" />
<meta property="og:url" content="https://blog.katsyoshi.org/page/8/" />
<meta property="og:site_name" content="katsyoshi のめもみたいなの" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://blog.katsyoshi.org/page/7/" />
<link rel="next" href="https://blog.katsyoshi.org/page/9/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="katsyoshi のめもみたいなの - page 8" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"It’s a memos.","headline":"katsyoshi のめもみたいなの - page 8","url":"https://blog.katsyoshi.org/page/8/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://blog.katsyoshi.org/feed.xml" title="katsyoshi のめもみたいなの" /></head>
<body><header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">katsyoshi のめもみたいなの</a>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- Pagination links -->
<div class="pagination">
  
    <a href="/page/7/" class="previous">
      Previous
    </a>
  
  <span class="page_number ">
    Page: 8 of 13
  </span>
  
    <a href="/page/9/" class="next">Next</a>
  
</div>



  <h1><a href="/blog/2016/12/01/im-rockn-roll-star/">Rock'n' Roll Star</a></h1>
  <p class="author">
    <span class="date">2016-12-01 00:00:00 +0900</span>
  </p>
  <div class="content">
    <p><a href="http://www.adventar.org/calendars/1537">ロックバンド Advent Calendar</a> 1日目です。
Oasisについて適当に書きます。</p>

<h2 id="たいとるについて">たいとるについて</h2>
<p>はいそうですねみんな大好き Oasis の <a href="https://www.amazon.co.jp/%E3%82%AA%E3%82%A2%E3%82%B7%E3%82%B9-20%E5%91%A8%E5%B9%B4%E8%A8%98%E5%BF%B5%E3%83%87%E3%83%A9%E3%83%83%E3%82%AF%E3%82%B9%E3%83%BB%E3%82%A8%E3%83%87%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3-OASIS/dp/B00K2ZK2Y2/ref=ntt_mus_dp_dpt_18">Definitely Maybe</a> の最初にはいってる<a href="https://www.amazon.co.jp/dp/B00K2ZK3UA/ref=dm_ws_tlw_trk1">曲</a>ですね。
Firstはこの曲よりも <a href="https://www.amazon.co.jp/dp/B00K2ZK5OE/ref=dm_ws_tlw_trk3">Live Forever</a> のほうがすきですが。
ロックバンド Advent Calendar 2016 ということでこのタイトルにしました[^タイトル]。</p>

<h2 id="oasisについて">Oasisについて</h2>

<p>最も好きなロックバンドの一つだった(解散中)ので書いてみることにします。</p>

<p>出会いは高校生だったころ MTV<sup id="fnref:MTV"><a href="#fn:MTV" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> みてたら <a href="https://www.amazon.co.jp/dp/B00FS7WKDK/ref=dm_ws_tlw_trk2">Go Let It Out!</a> が Power Push されてたのではじめて <a href="https://www.amazon.co.jp/%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%83%BB%E3%82%AA%E3%83%B3%E3%83%BB%E3%82%B6%E3%83%BB%E3%82%B7%E3%83%A7%E3%83%AB%E3%83%80%E3%83%BC%E3%83%BB%E3%82%AA%E3%83%96%E3%83%BB%E3%82%B8%E3%83%A3%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%84-OASIS/dp/B00FS7WIKA/ref=pd_sim_sbs_340_1?_encoding=UTF8&amp;psc=1&amp;refRID=CC18CK2V5MCE6YZFAB7H">Standing On Shoulder Of Gaints</a> を買いそこから。このころの曲はあまり好きでないのが多いですね。
このころも解散でもめてた気がします。そのあと大学でボッチ&amp;&amp;ひきこもりだったのでずっとOasisばっかり聞いてました。
そのときに買ったのが <a href="https://www.amazon.co.jp/%E3%82%B6%E3%83%BB%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%97%E3%83%A9%E3%83%B3-OASIS/dp/B00FS80BTO/ref=pd_sim_340_5?_encoding=UTF8&amp;psc=1&amp;refRID=3BME19Z3FRFP8SCGMPZ4">Master Plan</a>、 <a href="https://www.amazon.co.jp/%E3%83%92%E3%83%BC%E3%82%B6%E3%83%B3%E3%83%BB%E3%82%B1%E3%83%9F%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC-OASIS/dp/B00FXV4YTE/ref=pd_sim_340_5?_encoding=UTF8&amp;psc=1&amp;refRID=0HW35K2Y4M3XGJRH28ZY">Heathen Chemistry</a>、 <a href="https://www.amazon.co.jp/%E3%83%93%E3%82%A3%E3%83%BB%E3%83%92%E3%82%A2%E3%83%BB%E3%83%8A%E3%82%A6-OASIS/dp/B00FUYQG72/ref=pd_sim_340_3?_encoding=UTF8&amp;psc=1&amp;refRID=3BME19Z3FRFP8SCGMPZ4">Be Here Now</a> の3枚で Master Plan はベストアルバム(B面)ってのがすごく好き。</p>

<p>ライブは2度ほど見ました。2005年に2回みてます。<a href="http://www.summersonic.com/05/">Summer Sonic 2005</a> と <a href="http://www.setlist.fm/setlist/oasis/2005/yoyogi-daiichi-taiikukan-tokyo-japan-1bd79964.html">日本ツアー</a> を行ってました。日本ツアーのほうでは、Master Planの曲をやってくれたので本当に満足しました。</p>

<p>そのあとも<a href="https://www.amazon.co.jp/The-Longcut/e/B001LHT232/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">The Longcut</a>、<a href="https://www.amazon.co.jp/The-Music/e/B000APTYQQ/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">The Music</a><sup id="fnref:trends"><a href="#fn:trends" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>、<a href="https://www.amazon.co.jp/Bloc-Party/e/B000APY4UC/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">Bloc Party</a>、<a href="https://www.amazon.co.jp/The-Strokes/e/B000APQBEY/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">The Strokes</a>、<a href="https://www.amazon.co.jp/ASIAN-KUNG-FU-GENERATION/e/B00197HZ7O/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">ASIAN KUNG-FU GENERATION</a>、<a href="https://www.amazon.co.jp/Coldplay/e/B000APPUFK/digital/ref=ntt_mp3_rdr?_encoding=UTF8&amp;sn=d">Coldplay</a>とかに浮気しながらもきちんと御布施としてCDは買ってました。最近のリマスターはさすがに買ってないですが…</p>

<h2 id="解散について">解散について</h2>

<p><a href="http://mhnews2504.blog109.fc2.com/blog-entry-1930.html">伝統芸的なこと</a> もあるのでハイハイとしか好きなひとは思ってなかったとおもいます。</p>

<p>で2009年いつも通りまゆげ兄弟(ノエル・ギャラガーとリアム・ギャラガー)の兄弟喧嘩だとおもっていたら本気でまゆげ兄(ノエル)がブチギレて解散したのでそっかーてちょっとショック(ほんとにちょっと)だった[^解散]。</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:MTV">
      <p>だったけなこのころVibeって名前だった気も <a href="#fnref:MTV" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:trends">
      <p>そんなことより The Music の<a href="https://www.google.com/trends/explore?geo=JP&amp;q=%2Fm%2F0130zt,%2Fm%2F03d_2z,%2Fm%2F03zgq4,%2Fm%2F0kr_t,%2Fm%2F04zbp3">google trends</a>で熊本が肥ゆいけどなんで？ <a href="#fnref:trends" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

  </div>

  <h1><a href="/blog/2016/11/29/introduced-cuda/">YARAKASHI CUDA編</a></h1>
  <p class="author">
    <span class="date">2016-11-29 00:48:15 +0900</span>
  </p>
  <div class="content">
    <p><a href="/blog/2016/11/28/hello/">昨日</a>かいた奴でGTX 1050があるのでCUDAを導入してみた。</p>

<h2 id="cuda導入">CUDA導入</h2>

<p>これは簡単で <a href="https://developer.nvidia.com/cuda-downloads">ここ</a> から必要なパッケージをダウンロードしてきます。
今回は Linux x86_64 Ubuntu 14.04 runfile(local) を順に選択。
インストールはここでダウンロードしたrunfileを実行して、指示に従うだけです。
これが終ったら、SampleProjectもインストールされてるとおもうのでこのプロジェクトをコンパイルします。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ chmod 555 ./cuda_8.0.44_linux.run
$ ./cuda_8.0.44_linux.run
:
:
$ cd NVIDIA_CUDA-8.0_Samples
$ make
</code></pre></div></div>

<p>でコンパイルが終了したらサンプルプログラムを実行します。とりあえず <code class="language-plaintext highlighter-rouge">deviceQuery</code> を実行します。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd bin/x86_64/linux/release
$ ./deviceQuery
./deviceQuery Starting...

 CUDA Device Query (Runtime API) version (CUDART static linking)

cudaGetDeviceCount returned 38
-&gt; no CUDA-capable device is detected
Result = FAIL
</code></pre></div></div>

<p>と出ます。どうみてもエラーですね</p>

<p>で、以下のようにrootで実行すると</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo ./deviceQuery
./deviceQuery Starting...

 CUDA Device Query (Runtime API) version (CUDART static linking)

Detected 1 CUDA Capable device(s)

Device 0: "GeForce GTX 1050"
  CUDA Driver Version / Runtime Version          8.0 / 8.0
  CUDA Capability Major/Minor version number:    6.1
  Total amount of global memory:                 1965 MBytes (2060255232 bytes)
  ( 5) Multiprocessors, (128) CUDA Cores/MP:     640 CUDA Cores
  GPU Max Clock rate:                            1455 MHz (1.46 GHz)
  Memory Clock rate:                             3504 Mhz
  Memory Bus Width:                              128-bit
  L2 Cache Size:                                 1048576 bytes
  Maximum Texture Dimension Size (x,y,z)         1D=(131072), 2D=(131072, 65536), 3D=(16384, 16384, 16384)
  Maximum Layered 1D Texture Size, (num) layers  1D=(32768), 2048 layers
  Maximum Layered 2D Texture Size, (num) layers  2D=(32768, 32768), 2048 layers
  Total amount of constant memory:               65536 bytes
  Total amount of shared memory per block:       49152 bytes
  Total number of registers available per block: 65536
  Warp size:                                     32
  Maximum number of threads per multiprocessor:  2048
  Maximum number of threads per block:           1024
  Max dimension size of a thread block (x,y,z): (1024, 1024, 64)
  Max dimension size of a grid size    (x,y,z): (2147483647, 65535, 65535)
  Maximum memory pitch:                          2147483647 bytes
  Texture alignment:                             512 bytes
  Concurrent copy and kernel execution:          Yes with 2 copy engine(s)
  Run time limit on kernels:                     Yes
  Integrated GPU sharing Host Memory:            No
  Support host page-locked memory mapping:       Yes
  Alignment requirement for Surfaces:            Yes
  Device has ECC support:                        Disabled
  Device supports Unified Addressing (UVA):      Yes
  Device PCI Domain ID / Bus ID / location ID:   0 / 129 / 0
  Compute Mode:
     &lt; Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) &gt;

deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 8.0, CUDA Runtime Version = 8.0, NumDevs = 1, Device0 = GeForce GTX 1050
Result = PASS
</code></pre></div></div>
<p>と出てきますので、パーミッションがなかったようです。
あとは簡単、CUDA使いたいユーザーにパーミッションつけたらおわりです。</p>

<h2 id="おわり">おわり</h2>
<p>こんなのに3時間ほど時間を費しましたね。はい。</p>

  </div>

  <h1><a href="/blog/2016/11/28/hello/">あったらしーPCかったよー</a></h1>
  <p class="author">
    <span class="date">2016-11-28 01:14:21 +0900</span>
  </p>
  <div class="content">
    <h2 id="あたらしいpc買いました">あたらしいPC買いました</h2>

<p>先月のおわりに注文し今月頭のOSCあたりに新しいPCを組み立てました。
先月おわりあたりまではDDR4の32GBメモリーが2万円と安く売っていたので勢いで購入。
構成は以下のようになっています。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CPU: XeonE5-2620V4 * 2
MB: X10PE-D16WS
DISK: INTEL 600 シリーズ 512GB
MEM: Crucial [Micron製] DDR4 サーバー用メモリー 32GB ECC Registered * 4
NIC: X540-T2
GPU: Zotac GeForce GTX 1050
</code></pre></div></div>

<p>というかんじになっています。
今回はメモリー4枚しか買っていないので安くなったらあと12枚買いたいとおもってます</p>

  </div>

  <h1><a href="/blog/2016/11/09/went-to-8-jou-island/">went to 8 jou island</a></h1>
  <p class="author">
    <span class="date">2016-11-09 20:13:45 +0900</span>
  </p>
  <div class="content">
    <p>11/3-11/5 で八丈島にいってきました。
決めたのは10/28の朝でした。</p>

<h2 id="出発">出発</h2>
<p>は竹橋桟橋から船が出ているのでそこからのっていきます。
船は11/2 22:30(JST)からでていますのでそれでいきました。</p>

<h2 id="到着">到着</h2>
<p>は11/3 の朝8時ころに底土港に到着します。</p>

<h2 id="島一周">島一周</h2>
<p>朝到着し、やることないので宿に荷物を置いて自轉車を借ります。
この自轉車がブレーキ効かないのであきらめてスクーターを借りました。
滞在時間ずっと使えるように二日借りることにしました。</p>

<p>スクーターかりたあとは島観光として一周まわることにしました。
途中いくつか良いポイントがあったので写真をとったりしましたが、
だいたい2時間ぐらいで島一周できました。</p>

<p>一周してひまだったので、昼飯を宿のちかくで</p>

<h2 id="釣り-1日目">釣り 1日目</h2>
<p>やることないなどうしようかなとおもってたら、宿の部屋に入れるようになったので、PCの充電と携帯の充電を
そんなこんなしてたら、時間が16時ごろになったので釣りへ。
この日は釣る気があまりなかったので坊主で終了。
飯は島の適当なラーメン屋で。</p>

<h2 id="釣り-2日目">釣り 2日目</h2>
<p>この日は起きてすぐに温泉に行ってみたら、温泉施設自体がどこ行ってもだめで一番遠いとこは、朝10時からでした。
ので温泉は諦めて釣りへ行ってみた。</p>

<p>釣りはじめて30分ぐらいで釣れたし、一人で刺身にして食べるには十分な大きさだしで、あとは昼ごろまで適当に釣ってました。</p>

<p>-&gt; <img src="/images/photo/hachijo-ipara.webp" alt="アイッパラ" /> &lt;-</p>

<h2 id="温泉">温泉</h2>
<p>釣りおわったあとは温泉でまったり2時間ほど時間をつぶしてあとは夕日を見にいきました。</p>

<p>-&gt; <img src="/images/photo/hachijo-sunset.webp" alt="サンセット" /> &lt;-</p>

<h2 id="おわり">おわり</h2>
<p>たのしい一人旅でした。</p>

  </div>

  <h1><a href="/blog/2016/10/10/fxxking-ssh-permission/">ssh permission</a></h1>
  <p class="author">
    <span class="date">2016-10-10 20:14:30 +0900</span>
  </p>
  <div class="content">
    <p>またやらかしたので</p>

<h2 id="経緯">経緯</h2>
<p>サーバーにSSHログインが急にできなくなった</p>

<h2 id="対処">対処</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod 744 ~/.ssh
</code></pre></div></div>

<h2 id="おわり">おわり</h2>
<p>おわり</p>

  </div>

  <h1><a href="/blog/2016/10/09/hello-gentoo-using-itamae/">ItamaeつかってOSのインストールをやってみた</a></h1>
  <p class="author">
    <span class="date">2016-10-09 16:43:27 +0900</span>
  </p>
  <div class="content">
    <p>9月はRubyKiagiにいってたりしました。
そのときに<a href="http://mikutter.blogspot.jp/2016/09/mikutter-3312-343.html">mikutterのコミッター</a>とかになったようです。</p>

<p>シルバーウィークにThinkPadのOS再インストールをしたのでその記録を</p>

<h2 id="なにやったの">なにやったの？</h2>

<p><a href="https://twitter.com/mtsmfm">@mtsmfm</a> と以前話していたとき、``ansibleつかってOSインストールしてるんだけど、完全自動化できないんですよね~’’ みたいな事を聞いたので<a href="https://github.com/itamae-kitchen/itamae">Itamae</a> をつかってやってみました。
結論から言うと完全自動化は無理だけど、ある程度は自動化できた。</p>

<h3 id="環境">環境</h3>
<ul>
  <li>machine: ThinkPad X250</li>
  <li>OS: Gentoo Linux</li>
  <li>Provisioning tool: Itamae</li>
  <li>repo: https://github.com/katsyoshi/itamae-recipes</li>
</ul>

<h2 id="インストール">インストール</h2>
<p>インストールディスクを起動するところはipmiとか搭載していない(しらべていない)し<a href="https://wiki.openstack.org/wiki/Ironic">Ironic</a>はつかいたくないので手動で起動し、
sshdの起動とrootのパスワードを設定します。起動したら以下の手順でパーティション作成からカーネルのインストールまでします。</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">git clone https://github.com/katsyoshi/itamae-recipes.git
cd itamae-recipes
bundle install
wget http://ftp.iij.ad.jp/pub/linux/gentoo/releases/amd64/autobuilds/current-stage3-amd64/stage3-amd64-20161006.tar.bz2
cp stage3-amd64-20161006.tar.bz2 cookbook/install/stage3.tar.bz2
itamae ssh -h nu-machine cookbook/install/gentoo.rb -u root -j cookbook/install/gentoo.json
</span></code></pre></div></div>

<p>でOSのインストールまでできるのですが、gentooのインストールメディアだと、diffがインストールされていないのでitamaeからfileのコピーができません。
都度コピーしてください(というよりgentooインストーラーにdiffを入れたほうが早そう)</p>

<h2 id="パッケージのインストール">パッケージのインストール</h2>
<p>ここまで終ったら、パッケージのインストールします。これも以下コマンドを実行することで終ります。</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">itamae ssh -h nu-machine cookbook/gentoo/emerge.rb -j cookbook/gentoo/package.json
</span></code></pre></div></div>

<h2 id="owari">owari</h2>

<p>ItamaeつかってOSのインストールを実行してみました。diffが失いところがとくにつらいですね。
おわり</p>

  </div>

  <h1><a href="/blog/2016/08/31/hello-mikutter/">hello mikutter</a></h1>
  <p class="author">
    <span class="date">2016-08-31 22:55:03 +0900</span>
  </p>
  <div class="content">
    <p>表題のとおりmikutterをgemでインストールできるようにしてみました。</p>

<h2 id="どうやって">どうやって？</h2>
<p><a href="https://rubygems.org">rubygems</a> からはまだインストールはできません。
ので、以下の様にしてgem packageを作成します。</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>git clone github.com/katsyoshi/mikutter.git
<span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>mikutter
<span class="gp">$</span><span class="w"> </span>git checkout reokure-ru
<span class="gp">$</span><span class="w"> </span>bundle <span class="nb">install</span>
<span class="gp">$</span><span class="w"> </span>bundle <span class="nb">exec </span>rake build
<span class="gp">$</span><span class="w"> </span>gem <span class="nb">install </span>pkg/mikutter-3.5.0.pre.dev.gem
<span class="gp">$</span><span class="w"> </span>mikutter
</code></pre></div></div>

<p>これでmikutterコマンドで起動できるようになっています
これすらめんどうな人は<a href="https://katsyoshi.org/mikutter-3.5.0.pre.dev.gem">ここ</a>にあります。
ダウンロードして <code class="language-plaintext highlighter-rouge">gem install mikutter-3.5.0.pre.dev.gem</code> でインストールできます。
プラグインで起動できないとかあるなら必要なgemをインストールしてください。</p>

  </div>

  <h1><a href="/blog/2016/08/08/renewal-my-site/">RENEWAL MY SITE!!!</a></h1>
  <p class="author">
    <span class="date">2016-08-08 21:05:47 +0900</span>
  </p>
  <div class="content">
    <p>ってのは嘘ではないですが、嘘に近いです。
実はおとといの土曜日に katsyoshi.org をのぞいたら、 <em>nginx</em> の初期ページが表示されたので
とくにコンテンツはないですが、いそいでサイトの復旧をしました。
が、もともとあったファイル置場を失念したため似た感じで再構築してました。
再構築ついでにssl化、<code class="language-plaintext highlighter-rouge">nginx</code> から <code class="language-plaintext highlighter-rouge">h2o</code> へのWebサーバー変更しました。
あと <code class="language-plaintext highlighter-rouge">systemd</code> でデーモン化とかも。</p>

<h2 id="lets-encrypt">Let’s Encrypt</h2>

<p>リリースされてだいぶたつのですが、<a href="https://letsencrypt.org">Let’s Encrypt</a>を利用してみました。
Ubuntu Linux 16.04 では、簡単に導入できます。</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>letsencrypt
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>letsencrypt certonly
</code></pre></div></div>

<p>でいくつかの質問に答えればおわりです。
ここで、戸惑った場面としては認証を受けたいサーバーの確認があるのですが、
サーバーポート443を開ける<a href="https://letsencrypt.jp">必要があり</a>、1回失敗しました。</p>

<h2 id="h2o">H2O</h2>

<p>せっかくだし、<a href="https://h2o.examp1e.net/">H2O</a>を使おうと思います。
インストールはかんたんでいかのようにすればokです。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone h2o/h2o
$ cd h2o
$ cmake -DCMAKE_INSTALL_PREFIX_PATH=/opt/local .
$ make &amp;&amp; make install
</code></pre></div></div>

<p>設定は<a href="https://h2o.examp1e.net/configure/quick_start.html">ここ</a>と<a href="https://github.com/h2o/h2o/wiki/redirect-HTTP-to-HTTPS">ここ</a>を参考にして以下にしています。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>user: www-data
hosts:
  "katsyoshi.org:80":
    listen:
      port: 80
    paths:
      /:
        redirect: https://katsyoshi.org
hosts:
  "katsyoshi.org:443":
    listen:
      port: 443
      ssl:
        certificate-file: /etc/letsencrypt/live/katsyoshi.org/fullchain.pem
        key-file: /etc/letsencrypt/live/katsyoshi.org/privkey.pem
    paths:
      /:
        file.dir: /opt/website/top
access-log: /var/log/h2o/access.log
error-log: /var/log/h2o/error.log
pid-file: /var/run/h2o.pid
http2-reprioritize-blocking-assets: ON
</code></pre></div></div>

<h2 id="h2oservice"><a href="https://negima.mobi/2015/10/2092">h2o.service</a></h2>

<p>さいきんわだいのしすてむでーってやつででーもん？かしようとおもいます</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=H2O the optimized HTTP/1, HTTP/2 server
After=syslog.target network.target remote-fs.target nss-lookup.target

[Service]
Type=forking
PIDFile=/var/run/h2o.pid
ExecStartPre=/opt/local/bin/h2o -c /etc/h2o/h2o.conf -t
ExecStart=/opt/local/bin/h2o -c /etc/h2o/h2o.conf -m daemon
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s QUIT $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre></div></div>

<p>いやーしすてむでーってべんりですねー</p>

<h2 id="owari">owari</h2>
<p>サイトがぶっとんだのでサイトの復旧？と let’s encrypt でのSSL化、 h2oへのウェブサーバー変更と <code class="language-plaintext highlighter-rouge">systemd</code> でのデーモン化をやりました。</p>

<p>1年ぶりの日記だたので、Markdownどうかくんだっけ？とか、別のところで大変でした。</p>

<h2 id="参考サイト">参考サイト</h2>


  </div>

  <h1><a href="/blog/2015/08/25/i-went-to-yapc-asia-as-a-volanteer-staff/">YAPC::Asia 2015に参加しました(ボランティアスタッフとして)</a></h1>
  <p class="author">
    <span class="date">2015-08-25 02:42:48 +0900</span>
  </p>
  <div class="content">
    <p>YAPC::Asia 2015にボランティアスタッフとして参加してきました(申請時に公表しないでってしなのでYAPCのスッタフ一覧にはのってないです)。去年も参加しましたが聴講者として参加しました。</p>

<h2 id="ボランティアスタッフに応募した理由">ボランティアスタッフに応募した理由</h2>

<p>彼女ができるときいて応募しました。また、最後の YAPC::Asia と聞いていたので応募しないとなと思ったのがありました。他の理由としては NEET なのでというのもあります。発表者として参加できればよかったのですが、ネタが応募するには弱いなと思い見送りました。そういうこともありボランティアスタッフとして参加しました。</p>

<h2 id="個人スポンサー">個人スポンサー</h2>
<p>実は個人スポンサーもやっていましたが、ボランティアスタッフをやるため、個人スポンサーの分のチケットが余っていました。その分はとある人に譲りました。</p>

<h2 id="0日目前夜祭">0日目(前夜祭)</h2>

<p>0日目は11時集合になっており、スタッフ作業としてノベルティの詰め込み作業と会場設営を行なっていました。</p>

<p>前夜祭自体は初めてのスタッフ作業でしたので、会場係として設営などをしてました。</p>

<h2 id="1日目">1日目</h2>

<p>1日目は始めに作業としてラリーのセッション前、中で同時通訳のレシーバーを配ってました。その後D会場でずっとタイムキーパーをやっておりました。</p>

<p>この日の印象に残ってるセッションとしては <a href="https://twitter.com/kazuho">@kazuhoさん</a> の <a href="http://yapcasia.org/2015/talk/show/dead6890-09b7-11e5-998a-67dc7d574c3a">HTTP/2時代のウェブサイト設計</a> で、 <code class="language-plaintext highlighter-rouge">HTTP2</code> になった理由、そのなかで <a href="https://github.com/h2o/h2o">h2o</a> が優れている点を丁寧に説明されてて、これはすぐに使わねばと思わせてくれた発表でした。</p>

<p>この日は懇親会がありましたので、懇親会会場でうろうろしておりました。
懇親会では、知り合いと話してたりしてました。最近、 <a href="https://github.com/itamae-kitchen/itamae">itamae</a> を触っているので、プラグインの話を <a href="https://twitter.com/k0kubun">@k0kubunさん</a> としてました。そのときは <code class="language-plaintext highlighter-rouge">pip</code> のリソースプラグイン作りたいとか言ったので <a href="https://github.com/katsyoshi/itamae-plugin-resource-pip">今日作成</a> したのですが、よくかんがえてみると、 <code class="language-plaintext highlighter-rouge">cpan</code> のリソースプラグインの方が必要だったのを作成後に思い出しました。</p>

<h2 id="2日目">2日目</h2>

<p>2日目も1日目と同様にD会場で全セッションタイムキーパーやっておりました。</p>

<p>印象に残ったセッションとしては、 <a href="https://github.com/kenjiskywalker">@kenjiskywalkerさん</a> の <a href="http://yapcasia.org/2015/talk/show/f2816038-10ec-11e5-89bf-d7f07d574c3a">我々はどのように冗長化を失敗したのか</a> 、 <a href="https://twitter.com/saiken3110">@saiken3110さん</a> の <a href="http://yapcasia.org/2015/talk/show/0af26fe4-0b7b-11e5-a29c-67dc7d574c3a">MySQLで2億件のシリアルデータと格闘したチューニングの話</a> 、 <a href="https://github.com/Jxck">@Jxckさん</a> の <a href="http://yapcasia.org/2015/talk/show/9e9ae188-fb20-11e4-9a97-8ab37d574c3a">HTTP2 時代の Web</a> がありました。</p>

<p>最後に片づけをし、おわった後スタッフ数人とのみくいに行ってきました。そろそろ解散かなってときに、 twitter を眺めてたら、 <a href="https://twitter.com/Jxck_/status/635075234379399168">@Jxckさんが@t_wadaさんを誘ってる</a> を見つけて無理やり参加させて頂きました。</p>

<p>帰りついたのは朝の4時ごろ(だったと思う)でした。</p>

<h2 id="おわり">おわり</h2>

<p>YAPC::Asia 2015 に参加してきました。23日の日曜日は疲れてたのでずっとぐったりしてました。
楽しい3日間でした!!!!!11</p>

  </div>

  <h1><a href="/blog/2015/08/02/hello-itamae-plugins/">こんにちは、いたまえさん</a></h1>
  <p class="author">
    <span class="date">2015-08-02 21:33:46 +0900</span>
  </p>
  <div class="content">
    <p><a href="https://github.com/sstephenson/rbenv">rbenv</a> を <a href="https://github.com/itamae-kitchen/itamae">itamae</a> の <a href="https://github.com/k0kubun/itamae-plugin-recipe-rbenv">プラグイン</a> を利用してインストールしようとしたら、対象サーバがプロキシーのあるネットワークであり、gitでダウンロードできなかったので、<a href="https://github.com/k0kubun/itamae-plugin-recipe-rbenv/pull/9">httpsを指定できる</a>ようしてもらいました。</p>

<h2 id="plenv-と-pyenv">plenv と pyenv</h2>
<p>また、rbenv のプラグインを参考に <a href="https://github.com/katsyoshi/itamae-plugin-recipe-plenv">plenv</a> と <a href="https://github.com/katsyoshi/itamae-plugin-recipe-pyenv">pyenv</a> を作ってみました。</p>

<p>これらふたつのプラグインはまだgemになっていないので、<code class="language-plaintext highlighter-rouge">Gemfile</code> に以下のように追加し、</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s1">'itamae'</span>
<span class="n">gem</span> <span class="s1">'itamae-plugin-recipe-plenv'</span><span class="p">,</span> <span class="ss">github: </span><span class="s1">'katsyoshi/itamae-plugin-recipe-plenv'</span>
<span class="n">gem</span> <span class="s1">'itamae-plugin-recipe-pyenv'</span><span class="p">,</span> <span class="ss">github: </span><span class="s1">'katsyoshi/itamae-plugin-recipe-pyenv'</span>
</code></pre></div></div>

<p>recipeとしては以下のようにしてください。</p>

<p>```ruby recipe.rb
include_recipe ‘pyenv::system’
include_recipe ‘plenv::system’</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
設定例としては、rbenvのプラグインと同じように設定します。

```json
{
  "plenv" : {
    "versions" : ["5.22.0", "5.20.2"],
    "global"   : "5.22.0"
  },
  "pyenv" : {
    "versions" : ["3.4.3", "3.5.0b2"],
    "global"   : "3.4.3"
  }
}
</code></pre></div></div>

<h2 id="おわり">おわり</h2>

<p>おわり</p>

  </div>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page/7/" class="previous">
      Previous
    </a>
  
  <span class="page_number ">
    Page: 8 of 13
  </span>
  
    <a href="/page/9/" class="next">Next</a>
  
</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">katsyoshi のめもみたいなの</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">katsyoshi のめもみたいなの</li><li><a class="u-email" href="mailto:web@katsyoshi.org">web@katsyoshi.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/katsyoshi"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">katsyoshi</span></a></li><li><a href="https://www.twitter.com/katsyoshi"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">katsyoshi</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>It&#39;s a memos.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
