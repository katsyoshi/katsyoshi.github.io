<!DOCTYPE html>
<html lang="en"><head><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LQZYYM4LL2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LQZYYM4LL2');
</script>


<script>
  !function(o,e,n){var r=[];if(window.reproio)console.info("Repro Web SDK was loaded more than once");else{window.reproio=function(){r.push(arguments)};var i=o.createElement(e),t=o.getElementsByTagName(e)[0];i.src="https://cdn.reproio.com/web/v2/repro-sdk.min.js",i.async=!0,i.crossOrigin="",i.onload=function(){window.reproio("setSnippetVersion","2.1"),r.forEach(function(o){window.reproio.apply(window.reproio,o)})},t.parentNode.insertBefore(i,t)}}(document,"script");
  reproio("setup", "ff3c22fd-f7d1-4958-b16e-e57054f33d44");
  reproio("track", "pageView");
</script>
<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 9 of 13 for katsyoshi のめもみたいなの - page 9 | katsyoshi のめもみたいなの</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="katsyoshi のめもみたいなの - page 9" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="It’s a memos." />
<meta property="og:description" content="It’s a memos." />
<link rel="canonical" href="https://blog.katsyoshi.org/page/9/" />
<meta property="og:url" content="https://blog.katsyoshi.org/page/9/" />
<meta property="og:site_name" content="katsyoshi のめもみたいなの" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://blog.katsyoshi.org/page/8/" />
<link rel="next" href="https://blog.katsyoshi.org/page/10/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="katsyoshi のめもみたいなの - page 9" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"It’s a memos.","headline":"katsyoshi のめもみたいなの - page 9","url":"https://blog.katsyoshi.org/page/9/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://blog.katsyoshi.org/feed.xml" title="katsyoshi のめもみたいなの" /></head>
<body><header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">katsyoshi のめもみたいなの</a>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- Pagination links -->
<div class="pagination">
  
    <a href="/page/8/" class="previous">
      Previous
    </a>
  
  <span class="page_number ">
    Page: 9 of 13
  </span>
  
    <a href="/page/10/" class="next">Next</a>
  
</div>



  <h1><a href="/blog/2015/08/02/hello-itamae-plugins/">こんにちは、いたまえさん</a></h1>
  <p class="author">
    <span class="date">2015-08-02 21:33:46 +0900</span>
  </p>
  <div class="content">
    <p><a href="https://github.com/sstephenson/rbenv">rbenv</a> を <a href="https://github.com/itamae-kitchen/itamae">itamae</a> の <a href="https://github.com/k0kubun/itamae-plugin-recipe-rbenv">プラグイン</a> を利用してインストールしようとしたら、対象サーバがプロキシーのあるネットワークであり、gitでダウンロードできなかったので、<a href="https://github.com/k0kubun/itamae-plugin-recipe-rbenv/pull/9">httpsを指定できる</a>ようしてもらいました。</p>

<h2 id="plenv-と-pyenv">plenv と pyenv</h2>
<p>また、rbenv のプラグインを参考に <a href="https://github.com/katsyoshi/itamae-plugin-recipe-plenv">plenv</a> と <a href="https://github.com/katsyoshi/itamae-plugin-recipe-pyenv">pyenv</a> を作ってみました。</p>

<p>これらふたつのプラグインはまだgemになっていないので、<code class="language-plaintext highlighter-rouge">Gemfile</code> に以下のように追加し、</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s1">'itamae'</span>
<span class="n">gem</span> <span class="s1">'itamae-plugin-recipe-plenv'</span><span class="p">,</span> <span class="ss">github: </span><span class="s1">'katsyoshi/itamae-plugin-recipe-plenv'</span>
<span class="n">gem</span> <span class="s1">'itamae-plugin-recipe-pyenv'</span><span class="p">,</span> <span class="ss">github: </span><span class="s1">'katsyoshi/itamae-plugin-recipe-pyenv'</span>
</code></pre></div></div>

<p>recipeとしては以下のようにしてください。</p>

<p>```ruby recipe.rb
include_recipe ‘pyenv::system’
include_recipe ‘plenv::system’</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
設定例としては、rbenvのプラグインと同じように設定します。

```json
{
  "plenv" : {
    "versions" : ["5.22.0", "5.20.2"],
    "global"   : "5.22.0"
  },
  "pyenv" : {
    "versions" : ["3.4.3", "3.5.0b2"],
    "global"   : "3.4.3"
  }
}
</code></pre></div></div>

<h2 id="おわり">おわり</h2>

<p>おわり</p>

  </div>

  <h1><a href="/blog/2015/06/26/sir-elasticsearch/">elasticsearchどの〜</a></h1>
  <p class="author">
    <span class="date">2015-06-26 00:26:10 +0900</span>
  </p>
  <div class="content">
    <p><a href="https://www.elastic.co/products/kibana">kibana</a> で表示しようとしてたら嵌ったのでメモ</p>

<h2 id="嵌った原因">嵌った原因</h2>
<p>数字をElasticsearchに投げているつもりが文字列を投げていた。
ので対処方法としては、 <code class="language-plaintext highlighter-rouge">fluent-plugin-typecast</code> を導入して終了。</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;match</span> <span class="err">elasticsearch.**.*</span><span class="nt">&gt;</span>
  type typecast
  item_types value:float
  prefix typed
<span class="nt">&lt;/match&gt;</span>
</code></pre></div></div>

<h2 id="elasticsearch">Elasticsearch</h2>

<p><a href="https://www.fluentd.org">fluentd</a> で集めたデータを <a href="http://www.elasitc.co">Elasticsearch</a> に <a href="https://github.com/uken/fluent-plugin-elasticsearch">fluent-plugin-elastchsearch</a> を利用して入れます。設定は以下のようにします。</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;match</span> <span class="err">typed.elasticserch.**.*</span><span class="nt">&gt;</span>
  type elasticsearch
  type_name hoge
  host 127.0.0.1
  port 9200
  logstash_format true
  logstash_prefix logstash
  flash_interval 1s
<span class="nt">&lt;/match&gt;</span>
</code></pre></div></div>

<h2 id="おわり">おわり</h2>
<p>おわり</p>

<h3 id="参考資料">参考資料</h3>
<ol>
  <li>http://blog.nomadscafe.jp/2014/03/dstat-fluentd-elasticsearch-kibana.html</li>
  <li>https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-core-types.html</li>
</ol>

  </div>

  <h1><a href="/blog/2015/05/15/screencast-use-gif/">すくりーんきゃすと</a></h1>
  <p class="author">
    <span class="date">2015-05-15 23:47:14 +0900</span>
  </p>
  <div class="content">
    <p>LinuxでScreenCast用の環境を整えてみた。</p>

<h2 id="必要パッケージ">必要パッケージ</h2>

<ul>
  <li>ffmpeg</li>
  <li>gtk-recordMyDesktop</li>
</ul>

<h2 id="使いかた">使いかた</h2>

<p><code class="language-plaintext highlighter-rouge">gtk-recordMyDesktop</code> でデスクトップをキャプチャする。
その後は、 <code class="language-plaintext highlighter-rouge">ffmpeg</code> を使って好きな動画形式に変換します。
ここでは、gif画像に変更しています。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ffmpeg -i ~/screencast.ovg img/screencast.gif
</code></pre></div></div>

<p>-&gt; <img src="/images/screenshot/gtk-recordMyDesktop.gif" alt="" /> &lt;-</p>

<h3 id="参考サイト">参考サイト</h3>
<ol>
  <li>http://d.hatena.ne.jp/over80/20080802/1217693705</li>
</ol>

  </div>

  <h1><a href="/blog/2015/05/11/golden-weak/">ゴールデンウィークのお買いもの</a></h1>
  <p class="author">
    <span class="date">2015-05-11 21:38:35 +0900</span>
  </p>
  <div class="content">
    <p>GWに勢い余って買いものしたのでそれを。</p>

<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=katsyoshi05-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=B00J5ZBVFY" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>

<p>Roomba買いました。</p>

<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=katsyoshi05-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=B004N3RQ5W" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>

<p>机買いました。</p>

<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=katsyoshi05-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=B00G21MID8" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>

<p>Kinesis買いました。</p>

<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=katsyoshi05-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=B000EVPGTU" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=katsyoshi05-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=B000P4D5F8" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>

<p>コーヒーセット買いました。</p>

<p>もともと欲しかったのもあり、勢いで買ってしまいました。</p>

<p>Roombaの方は炬燵をまだ出してるのもあり、動かしていないです。</p>

<p>机は1ヶ月ほど前に椅子を買ったのもあり、買いました。
足が短いので、椅子を低くしたいのですが、天板が高いので足置き場をつくってそこにのせています。
それ以外の気になる点としては、角がちょっと痛いというぐらいで今のところ満足しています。</p>

<p>Kinesisは以前仕事で週1日だけ使わせてもらったことがあったので、気に入ったのでそれで買いました。
赤軸モデルを買ったのですが、カチカチ音がしないのでこれはこれでイイカンジです。</p>

<p>コーヒーセットは、机がきてから買う予定で買いました。このドリッパ用の用紙を見付けるのが大変で、2時間ほど彷徨いました。</p>

<p>これで欲しいものは大体そろったのですが、最近デスクトップPC欲しくなってきたんだよなぁ…</p>

<p>もうしわけねぇ。</p>


  </div>

  <h1><a href="/blog/2015/05/10/shred-x240/">バイバイX240</a></h1>
  <p class="author">
    <span class="date">2015-05-10 11:05:19 +0900</span>
  </p>
  <div class="content">
    <p>新しく<a href="/blog/2015/04/15/looks-good-new-machine/">X250</a>を買ったので、X240の中身を削除します。
以下のコマンドでできるようです。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo shred -n 3 -v /dev/sda
</code></pre></div></div>

  </div>

  <h1><a href="/blog/2015/05/03/softether/">softether</a></h1>
  <p class="author">
    <span class="date">2015-05-03 16:28:42 +0900</span>
  </p>
  <div class="content">
    <p>Ubuntuに<a href="https://www.softether.jp/">SoftEther</a>を導入してみた。</p>

<h2 id="マシン構成">マシン構成</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OS: Ubuntu Linux 14.4.0.2 LTS
Machine: SakuraVPS 1GBプラン
</code></pre></div></div>

<h2 id="インストール">インストール</h2>

<p><a href="http://qiita.com/Makotonton/items/18683a9f1e846433c035">ここ</a>を参考にインストール、設定すればいけます。</p>

<h3 id="嵌ったところ">嵌ったところ</h3>

<p><code class="language-plaintext highlighter-rouge">nginx</code> で <code class="language-plaintext highlighter-rouge">ssl</code> 動かしてた。</p>

<p>設定ができなかったが <code class="language-plaintext highlighter-rouge">sudo service nginx stop</code> として、 <code class="language-plaintext highlighter-rouge">nginx</code> を止めたあと、 <code class="language-plaintext highlighter-rouge">sudo vpncmd</code> とすれば設定できます。</p>

<h2 id="おわり">おわり</h2>

<p>自作のRailsアプリCIを自宅で動かそうと思ってVPN導入してみたが、一人で開発してるしCIに問題がない限り必要ないというのを構築したあと気が付いた。</p>

<h3 id="参考">参考</h3>

<ol>
  <li>http://qiita.com/Makotonton/items/18683a9f1e846433c035</li>
  <li>https://www.softether.jp/</li>
</ol>


  </div>

  <h1><a href="/blog/2015/04/30/use-visual-studio-code/">Visual Studio Codeを使ってみた</a></h1>
  <p class="author">
    <span class="date">2015-04-30 13:09:55 +0900</span>
  </p>
  <div class="content">
    <p><a href="https://code.visualstudio.com/">Visual Studio Code</a>というものがでたので普段利用している
Linuxで使ってみた。</p>

<h2 id="インストール">インストール</h2>
<p>は簡単にできて、ウェブサイトからZIPファイルをダウンロードして展開し、展開したディレクトリで
以下のコマンドで実行できます</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./Code
</code></pre></div></div>

<h2 id="感想">感想</h2>
<p>VSC使ってみたけど、日本語表示がされない。</p>

<p>-&gt; <img src="/images/screenshot/vsc_japanese.webp" alt="" /> &lt;-</p>

<p><em>追記</em></p>

<p>フォントを変更すると表示できるようになりました。</p>

<p><code class="language-plaintext highlighter-rouge">File -&gt; Preferences -&gt; User Settings</code> から、 <code class="language-plaintext highlighter-rouge">settings.json</code> を開き、
以下のように追加する</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"editor.fontFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ricty"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>-&gt; <img src="/images/screenshot/vsc_settings.webp" alt="" /> &lt;-</p>

<p><em>追記おわり</em></p>

<p>デバッガ動かすためにMONOが必要。</p>

<p><img src="/images/screenshot/vsc_debugger_needed_mono.webp" alt="" /></p>

<p>補完がよさそう。Rubyでの補完の出かたです。</p>

<p>-&gt; <img src="/images/screenshot/vsc_completion.webp" alt="" /> &lt;-</p>

<p>などあります。</p>

<p>そのうちなにかこれで書くかなぁ。</p>

  </div>

  <h1><a href="/blog/2015/04/15/looks-good-new-machine/">おにゅーな</a></h1>
  <p class="author">
    <span class="date">2015-04-15 01:15:45 +0900</span>
  </p>
  <div class="content">
    <p>以前買った<a href="/blog/2014/08/20/gentoo-install-battle-part-i/">X240</a>があまりにも使い辛いので
X250を買った。それ以外にもメガネも一つ買ってみた。</p>

<p>あと欲しいのは、ルンバかなあ</p>

  </div>

  <h1><a href="/blog/2015/04/09/file-name-needs-scss-extention/">ファイル名間違えてテスト通らなかった話</a></h1>
  <p class="author">
    <span class="date">2015-04-09 15:38:49 +0900</span>
  </p>
  <div class="content">
    <p><a href="https://rails-assets.org">rails-assets.org</a> から <code class="language-plaintext highlighter-rouge">bootstrap-sass-official</code> をインストールし、動かしたら、 test環境でテストが落ちてたのでメモ。</p>

<h2 id="オチ">オチ</h2>

<p>CSSの<a href="https://twitter.com/izumin5210/status/586054782994874368">ファイル名</a>が <code class="language-plaintext highlighter-rouge">application.css.scss</code> じゃなかった。</p>

<h2 id="設定">設定</h2>

<p>まず、<code class="language-plaintext highlighter-rouge">Gemfile</code> に以下のように追記をします。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'https://rails-assets.org'</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'rails-asstes-bootstrap-sass-official'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>あとはいつも通りにインストールします。
次に <code class="language-plaintext highlighter-rouge">app/assets/javascripts/application.js</code> や <code class="language-plaintext highlighter-rouge">app/assets/stylesheets/application.css</code> に必要な読み込みを<a href="http://qiita.com/izumin5210/items/73f93347a9fe458dbbf5">設定</a>します。</p>

<h2 id="問題">問題</h2>
<p>以上の設定が終ったあと、 <code class="language-plaintext highlighter-rouge">cucumber</code> でテストを実行すると、</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>File to import not found or unreadable: bootstrap-sass-official/bootstrap-sprockets.
</code></pre></div></div>

<p>などといわれますのでオチを参考にファイル名変更して終了です。</p>

<h2 id="おわり">おわり</h2>

<p>おわり</p>

<h3 id="参考">参考</h3>

<ol>
  <li>http://qiita.com/izumin5210/items/73f93347a9fe458dbbf5</li>
  <li>https://twitter.com/izumin5210/status/586054782994874368</li>
</ol>

  </div>

  <h1><a href="/blog/2015/04/07/many-ssh-connection/">known_hostsに載っていないホストに接続確認しないようにする</a></h1>
  <p class="author">
    <span class="date">2015-04-07 19:40:03 +0900</span>
  </p>
  <div class="content">
    <p>昨日の<a href="/blog/2015/04/06/careless-miss/">続き</a>で、 <code class="language-plaintext highlighter-rouge">lxc</code> で大量のサーバを立てて、
SSH接続すると、ホストごとに毎回接続確認が必要なので、確認せずに接続できるようにした。</p>

<h2 id="解決方法">解決方法</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ssh -oStrictHostKeyChecking=no anywhere.example.com
</code></pre></div></div>

<p>で接続確認の <code class="language-plaintext highlighter-rouge">yes or no</code> が出てこなくなります。</p>

<h2 id="おわり">おわり</h2>
<p>おわり。</p>

<p>そのうち <code class="language-plaintext highlighter-rouge">lxc</code> で100個ほどのインスタンスのベンチマークとりたい…</p>

  </div>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page/8/" class="previous">
      Previous
    </a>
  
  <span class="page_number ">
    Page: 9 of 13
  </span>
  
    <a href="/page/10/" class="next">Next</a>
  
</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">katsyoshi のめもみたいなの</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">katsyoshi のめもみたいなの</li><li><a class="u-email" href="mailto:web@katsyoshi.org">web@katsyoshi.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/katsyoshi"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">katsyoshi</span></a></li><li><a href="https://www.twitter.com/katsyoshi"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">katsyoshi</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>It&#39;s a memos.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
