<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: diary | katsyoshiのめもみたいなもの]]></title>
  <link href="http://blog.katsyoshi.org/blog/categories/diary/atom.xml" rel="self"/>
  <link href="http://blog.katsyoshi.org/"/>
  <updated>2017-04-09T04:49:09+09:00</updated>
  <id>http://blog.katsyoshi.org/</id>
  <author>
    <name><![CDATA[katsyoshi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[raspiでdnsを運用してみはじめた]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/04/09/use-dnsmasq-for-domestic-network/"/>
    <updated>2017-04-09T00:00:00+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/04/09/use-dnsmasq-for-domestic-network</id>
    <content type="html"><![CDATA[<p>RasPi2 が3台あってつかっていないので DNS として動かすようにしてみた。
RasPi とはいえ中身は Ubuntu Linux なのでのインストールは <code>apt install dnsmasq</code> するだけでおわります。</p>

<h2>はまったところ</h2>

<p>いつもどおりはまりました。今回は以下の二点</p>

<ul>
<li>/etc/dnsmasq.d/ に hosts ファイルを置くとエラー</li>
<li>/etc/hosts ファイルのパーミッションが <code>600</code> になっていたためエラー</li>
</ul>


<h3>/etc/dnsmasq.d/ に hosts ファイルを置くとエラー</h3>

<p>ログを見ても以下のログしか出ておらず理由の調査に時間がかかった。hosts ファイルは設定ファイルではないため当然といえば当然なのですが…</p>

<p><code>
Jan  1 00:00:08 localhost dnsmasq[673]: bad option at line 1 of /etc/dnsmasq.d/hosts
</code></p>

<p>今、<code>/etc/defaults/dnsmasq</code> を調べてみるとそうなってました。はい。</p>

<p><code>
CONFIG_DIR=/etc/dnsmasq.d,.dpkg-dist,.dpkg-old,.dpkg-new
</code></p>

<h3>/etc/hosts ファイルのパーミッションが <code>600</code> になっていたためエラー</h3>

<p>こちらは上記問題を解決したあと、反映されないのでログを見たときにわかりました。</p>

<p><code>
Apr  8 08:57:20 localhost dnsmasq[4733]: failed to load names from /etc/hosts: Permission denied
</code></p>

<p>これの原因は <code>itamae</code> でファイルを送信するときに <code>mode '644'</code> を指定する必要があったのだが、指定せずに
送信してしまったため発生。</p>

<h2>おわり</h2>

<p>おわり</p>

<h3>関連リポジトリ</h3>

<p><a href="https://github.com/katsyoshi/itamae-recipes">https://github.com/katsyoshi/itamae-recipes</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[basic authenticate in h2o]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/02/20/basic-authenticate-in-h2o/"/>
    <updated>2017-02-20T21:53:49+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/02/20/basic-authenticate-in-h2o</id>
    <content type="html"><![CDATA[<p>H2Oでベーシック認証したい場合は以下のようにします<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>

<p>```yaml
paths:
  &ldquo;/&rdquo;:</p>

<pre><code>mruby.handler: |
  require "htpasswd.rb"
  Htpasswd.new("/etc/h2o/.htpasswd", "realm-name")
</code></pre>

<p>```</p>

<p>また、 <code>.htpasswd</code> で plain フォーマットはサポートされていません。</p>

<p><code>console
failed to validate password using file:/etc/h2o/.htpasswd:crypt-style password hash is not supported
</code></p>

<p><code>.htpasswd</code> を手動で作成したい場合は以下の方法でできます<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p>

<p><code>ruby
require "digest/sha1"
require "base64"
open("/etc/h2o/.htpasswd", "w") do |w|
  w.write("user:{SHA}#{Base64.encode64(Digest::SHA1.digest("password"))}")
end
</code></p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Configure > Using Basic Authentication, DeNA Co., Ltd. et al., https://h2o.examp1e.net/configure/basic_auth.html, 2017/02/20 閲覧<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>Password Formats, The Apache Software Foundation., https://httpd.apache.org/docs/2.4/misc/password_encryptions.html, 2017/02/20 閲覧<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Blogのテーマかえた]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/02/12/octopress-themes/"/>
    <updated>2017-02-12T20:16:01+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/02/12/octopress-themes</id>
    <content type="html"><![CDATA[<p>表題のとおり、Blog(octopress) のテーマをdefaultの classics から <a href="https://github.com/tommy351/Octopress-Theme-Slash">slash</a> に変更した。
変更の方法は以下のようになります<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>。</p>

<p><code>sh
$ cd ~/octopress
$ git clone git://github.com/tommy351/Octopress-Theme-Slash.git .themes/slash
$ bundle exec rake install\['slash'\]
$ bundle exec rake generate
$ bundle exec rake preview
$ bundle exec rake deploy
</code></p>

<p>ついでにfaviconもかえよう。</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Octopressのテーマを変更してみよう!, facestarbaby, http://qiita.com/fakestarbaby/items/ab532088453105e1bea4, 2017/02/12 閲覧<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2016年買ってよかったもの]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/01/01/good-buy-of-2016/"/>
    <updated>2017-01-01T09:00:00+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/01/01/good-buy-of-2016</id>
    <content type="html"><![CDATA[<p>おおきな買いものなかったなぁとおもったが、わりとあったので書きとめておく</p>

<h2><a href="https://www.acer.com/ac/ja/JP/content/model/MR.JFZ11.00G">Acer H6510BD フルHD プロジェクター</a> と <a href="http://jp.yamaha.com/products/audio-visual/hometheater-systems/digital-sound-projector/ysp-1600__j/">YAMAHA YSP-1600</a></h2>

<p>このふたつはもともとホームシアターが欲しいなぁということで買いました。
プロジェクターは、4Kはまだまだ高いので音がうるさいの気にしないでもいいので FullHD のやつが欲くて購入。スピーカーもBTが利用できればいいなっておもってたのでこいつにしてたら、HDMIのパススルーができると聞いたので購入これも比較的安価だったので購入。
両方とも割と安く手に入るところが魅力でしたので購入、現在は主にAmazon Prime Videoの鑑賞に利用しています。</p>

<h2><a href="http://www.sony.jp/cyber-shot/products/DSC-RX100M3/">Sony Cyber-shot DCS-RX100M3</a></h2>

<p>携帯をiPhoneからNexusに変更してからずっとカメラに不満だったので購入。これはカメラとの連携アプリがわかりやすいので大変よい買いものでした。</p>

<h2><a href="http://www.philips.co.jp/c-p/HR2365_01/premium-collection-pasta-maker">Philips Noodle Maker</a></h2>

<p>こいつは買ったのではなく、頂きものですが、ずっとwish listに入ってたのでここに。
まだ1回しか使ってないけど、わいわい製麺できてたのしいので1台あると便利です。</p>

<h2>おわり</h2>

<p>おわり</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[d250g2 advent calendar 2016 5日目]]></title>
    <link href="http://blog.katsyoshi.org/blog/2016/12/05/d250g2/"/>
    <updated>2016-12-05T00:00:00+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2016/12/05/d250g2</id>
    <content type="html"><![CDATA[<p><a href="http://www.adventar.org/calendars/1377">d250g2 Advent Calendar</a> 5日目の記事です</p>

<h2>d250g2 について</h2>

<p style="text-align:center;"> <img src="https://d250g2.com/d250g2.jpg" alt="" /></p>

<h2>d250g2 とは？</h2>

<p>しらん</p>

<h2>KernelVM Camp #4 に行ってきた</h2>

<p>成果物です</p>

<p style="text-align:center;"> <img src="https://d250g2.com/d250g2.jpg" alt="" /></p>
]]></content>
  </entry>
  
</feed>
