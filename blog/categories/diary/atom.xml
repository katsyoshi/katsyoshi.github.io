<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: diary | katsyoshiã®ã‚ã‚‚ã¿ãŸã„ãªã‚‚ã®]]></title>
  <link href="http://blog.katsyoshi.org/blog/categories/diary/atom.xml" rel="self"/>
  <link href="http://blog.katsyoshi.org/"/>
  <updated>2017-12-18T22:55:51+09:00</updated>
  <id>http://blog.katsyoshi.org/</id>
  <author>
    <name><![CDATA[katsyoshi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[IRubyã¯ã˜ã‚ã¾ã—ãŸ]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/12/18/hello/"/>
    <updated>2017-12-18T21:56:55+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/12/18/hello</id>
    <content type="html"><![CDATA[<p>è¡¨é¡Œã®ã¨ãŠã‚Šã€ <a href="https://github.com/SciRuby/iruby">IRuby</a> ã‚’ã¯ã˜ã‚ã¦ã¿ã¾ã—ãŸ</p>

<h3>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>

<p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ç°¡å˜ã§ <code>gem install iruby</code> ã§ã„ã‘ã¾ã™ãŒã€ç§ã®åˆ©ç”¨ã—ã¦ã„ã‚‹ç’°å¢ƒã§ã¯ä¾å­˜ã—ã¦ã„ã‚‹ <a href="https://github.com/zeromq/czmq">czmq</a> ãŒå¤ã‹ã£ãŸã®ã§æ‰‹å‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å›é¿ã—ã¦ã„ã¾ã™ã€‚</p>

<p><code>console
git clone https://github.com/zeromq/czmq.git
cd czmq
./autogen
./configure --prefix=${HOME}/.local
make -j4
make install
gem install iruby cztop
LD_LIBRARY_PATH=${HOME}/.local/lib iruby
</code></p>

<p>ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å‹•ä½œã¯ã§ãã¾ã™ã€‚ç”»åƒè²¼ã‚‹ã®ãŒãƒ¡ãƒ³ãƒ‰ã‚¤ã®ã§ <code>ipython</code> è²¼ã£ã¦ãŠãã¾ã™ã€‚</p>

<p>```
{
 &ldquo;cells&rdquo;: [
  {
   &ldquo;cell_type&rdquo;: &ldquo;code&rdquo;,
   &ldquo;execution_count&rdquo;: 4,
   &ldquo;metadata&rdquo;: {},
   &ldquo;outputs&rdquo;: [</p>

<pre><code>{
 "data": {
  "text/html": [
   "\n",
   "  &lt;script&gt;\n",
   "  requirejs.config({paths: { 'plotly': ['https://cdn.plot.ly/plotly-latest.min'] }})\n",
   "  &lt;/script&gt;\n",
   "\n",
   "\n",
   "&lt;div id=\"c34db0db-dc37-4ae3-a2b3-33ab99830b89\" style=\"height: 100%; width: 100%;\"&gt;&lt;/div&gt;\n",
   "\n",
   "&lt;script&gt;\n",
   " require(['plotly'], function(Plotly) { \n",
   "Plotly.newPlot(\n",
   "  'c34db0db-dc37-4ae3-a2b3-33ab99830b89',\n",
   "  [{\"x\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\"y\":[100,81,64,49,36,25,16,9,4,1,0,1,4,9,16,25,36,49,64,81,100],\"type\":null,\"mode\":\"\"}],\n",
   "  {\"width\":1000,\"height\":500},\n",
   "  {\"linkText\":\"Export to plot.ly\",\"showLink\":true}\n",
   ")\n",
   "\n",
   "window.addEventListener('resize', function() {\n",
   "  Plotly.Plots.resize(document.getElementById('c34db0db-dc37-4ae3-a2b3-33ab99830b89'))\n",
   "})\n",
   " }) \n",
   "&lt;/script&gt;"
  ],
  "text/plain": [
   "#&lt;Plotly::Offline::HTML:0x000056356f14be00 @id=\"c34db0db-dc37-4ae3-a2b3-33ab99830b89\", @data=[{:x=&gt;[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], :y=&gt;[100, 81, 64, 49, 36, 25, 16, 9, 4, 1, 0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100], :type=&gt;nil, :mode=&gt;\"\"}], @layout={:width=&gt;1000, :height=&gt;500}, @config={:linkText=&gt;\"Export to plot.ly\", :showLink=&gt;true}, @embedded=true&gt;"
  ]
 },
 "metadata": {},
 "output_type": "display_data"
},
{
 "data": {
  "text/plain": [
   "#&lt;CZTop::Socket::PUB:0x56356e7f3620 last_endpoint=\"tcp://127.0.0.1:45835\"&gt;"
  ]
 },
 "execution_count": 4,
 "metadata": {},
 "output_type": "execute_result"
}
</code></pre>

<p>   ],
   &ldquo;source&rdquo;: [</p>

<pre><code>"require 'daru'\n",
"require 'daru/plotly'\n",
"include Daru::Plotly::Methods\n",
"\n",
"dv = Daru::Vector.new((-10..10).map{|n| n ** 2 })\n",
"plot(dv, x: \"x\", y: \"y\").show"
</code></pre>

<p>   ]
  }
 ],
 &ldquo;metadata&rdquo;: {
  &ldquo;kernelspec&rdquo;: {
   &ldquo;display_name&rdquo;: &ldquo;Ruby 2.4.2&rdquo;,
   &ldquo;language&rdquo;: &ldquo;ruby&rdquo;,
   &ldquo;name&rdquo;: &ldquo;ruby&rdquo;
  },
  &ldquo;language_info&rdquo;: {
   &ldquo;file_extension&rdquo;: &ldquo;.rb&rdquo;,
   &ldquo;mimetype&rdquo;: &ldquo;application/x-ruby&rdquo;,
   &ldquo;name&rdquo;: &ldquo;ruby&rdquo;,
   &ldquo;version&rdquo;: &ldquo;2.4.2&rdquo;
  }
 },
 &ldquo;nbformat&rdquo;: 4,
 &ldquo;nbformat_minor&rdquo;: 2
}
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼2æ—¥ç›®]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/12/02/wiskey-advent-calendar/"/>
    <updated>2017-12-02T00:00:00+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/12/02/wiskey-advent-calendar</id>
    <content type="html"><![CDATA[<p><a href="https://adventar.org/calendars/2219">ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ Advent Calendar 2017</a> ã®2æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>

<p>ã‚¦ã‚£ã‚¹ã‚­ãƒ¼ã¯ãƒ”ãƒ¼ãƒˆã®é¦™ã‚ŠãŒå¼·ã„ã»ã†ãŒã™ãã§ã™ã€‚</p>

<p>ã¨ã‚Šã‚ãˆãšè’¸ç•™æ‰€ã«è¡Œã£ã¦ããŸè©±ã‚’
ä»¥å‰ã€<a href="http://www.suntory.co.jp/factory/hakushu/">ç™½å·è’¸ç•™æ‰€</a> ã¨ <a href="http://www.suntory.co.jp/factory/yamazaki/">å±±å´è’¸ç•™æ‰€</a> ã«è¡Œã£ãŸã“ã¨ãŒã‚ã‚‹ã®ã§ãã®è©±ã‚’ã€‚</p>

<h2>ç™½å·è’¸ç•™æ‰€</h2>

<p>ç™½å·ã¸ã¯5å¹´ãã‚‰ã„å‰ã«5äººã§ã‚ã„ã‚ã„ã—ãªãŒã‚‰è¡Œã£ã¦ãã¾ã—ãŸã€‚
ã“ã“ã§ã¯ã€å·¥å ´è¦‹å­¦ã®ãƒ„ã‚¢ãƒ¼ã«å‚åŠ ã—ã¾ã—ãŸã€‚
ã¾ãŸã€ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ ã§ã™ã“ã—ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã‚’è©¦ã›ã¦è‰¯ã„ã§ã™ã€‚</p>

<h2>å±±å´è’¸ç•™æ‰€</h2>

<p>å±±å´ã¯å»å¹´ã€äº¬éƒ½ã¸è¡Œãæ©Ÿä¼šãŒã‚ã‚Šã€ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã‚’è²·ã†ãŸã‚ã«è¡Œãã¾ã—ãŸã€‚
ã“ã“ã§ã‚‚å·¥å ´è¦‹å­¦å¯èƒ½ã ã£ãŸã®ã§ã™ãŒã€äº‹å‰ã«äºˆç´„ãŒå¿…è¦ã§ã‚ã‚‹ãŸã‚
ä»Šå›ã¯ãƒ‘ã‚¹ã—ã¦ã€å·¥å ´ã«ä½µè¨­ã•ã‚Œã¦ã„ã‚‹ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã®ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ 
ã§å¹¾ã¤ã‹ã®ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã‚’ãŸã®ã—ã¿ã€ã‚·ãƒ§ãƒƒãƒ—ã§ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã¨æ¢…é…’ã‚’è²·ã£ã¦
é´¨å·ã¸</p>

<h2>ãŠã‚ã‚Š</h2>

<p>æ—¥æœ¬ã®ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã¯ã‚ã¾ã‚Šå¾—æ„ã˜ã‚ƒãªã„ã®ã§ã™ãŒã€è’¸ç•™æ‰€ã«è¡Œãã®ã¯æ¥½ã—ã„ã—
æ¥½ã—ã¿æ–¹ã‚’æ•™ãˆã¦ã‚‚ã‚‰ãˆã‚‹ã®ã§è¿‘ãã«è’¸ç•™æ‰€ãŒã‚ã‚‹æ–¹ã¯ä¸€åº¦è¡Œã£ã¦ã¿ã‚‹ã¨ã‚ˆã„ã¨ãŠã‚‚ã„ã¾ã™</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Emacsã®æ§‹æˆç®¡ç†ã‚’itamaeã§ç®¡ç†]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/07/01/emacs-config-from-itamae/"/>
    <updated>2017-07-01T22:59:16+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/07/01/emacs-config-from-itamae</id>
    <content type="html"><![CDATA[<p>ä»•äº‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç’°å¢ƒã§emacsã®ãƒ•ã‚©ãƒ³ãƒˆç­‰è¨­å®šã™ã‚‹ã®ãŒã„ã„ã‹ã’ã‚“ãƒ€ã‚‹ããªã£ã¦ããŸã®ã§ã€Itamaeã‚’æµã™ã ã‘ã§ã‚¤ã‚¤ã‚«ãƒ³ã‚¸ã«ã™ã‚‹ã‚ˆã†ã«ã—ãŸ</p>

<h2>ã‚‚ã¨ã‚‚ã¨ã©ã†ã‹ã‚“ã‚Šã—ã¦ãŸã®ã‹</h2>

<p>ã‚‚ã¨ã‚‚ã¨<a href="https://github.com/katsyoshi/dot.emacs.d">github</a>ã§ç®¡ç†ã—ã¦ã„ãŸãŒã€ã•ã™ãŒã«Fontã®ç’°å¢ƒç•°å·®ã‚’ã¡ã‚‡ã“ã¡ã‚‡ã“å¤‰ãˆã‚‹ã®ãŒé¢å€’ã«ãªã£ãŸ</p>

<h2>Itamae de kanri</h2>

<p>gitã§ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§ç’°å¢ƒç•°å·®ã‚ã‚‹éƒ¨åˆ†ã‚’<a href="https://github.com/katsyoshi/itamae-recipes">itamae</a>ã§ç®¡ç†ã™ã‚‹ã‚ˆã†ã«æ–¹é‡ã‚’è»¢æ›ã€‚</p>

<p>```yaml
emacs:
  font:</p>

<pre><code>family: Ricty
height: 120
</code></pre>

<p>  packages:</p>

<pre><code>- auto-complete
</code></pre>

<p>  settings:</p>

<pre><code>- git
</code></pre>

<p>```</p>

<p>ã¨ã‹æ›¸ã„ã¦ã‚ã¨ã¯Itamaeã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€
å¿…è¦ãªè¨­å®šã¸ã®ãƒªãƒ³ã‚¯è¿½åŠ ãªã©ã‚’ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>

<h2>ãŠã‚ã‚Š</h2>

<p>ã“ã‚Œã§ãªã«ã‚‚è€ƒãˆãªãã¦ã™ã‚€ã‚ˆã†ã«ãªã‚‹ã®ã‹ãªï¼Ÿ</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rustful web]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/06/04/rustful-web/"/>
    <updated>2017-06-04T23:17:45+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/06/04/rustful-web</id>
    <content type="html"><![CDATA[<p><a href="https://www.rust-lang.org/ja-JP/">rust</a> ã§ Web Application ã‚’ã¤ãã‚ã†ã¨æ€ã£ã¦ <a href="https://github.com/Ogeon/rustful">rustful</a> ã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã¿ã¦ãŸã‚Šã—ãŸã€‚</p>

<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ãŒç•°ãªã‚Šã€å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒèª­ã¿è¾¼ã‚ãªã‹ã£ãŸã‚Šã€é–¢æ•°ã®å¼•æ•°ãŒç•°ãªã£ãŸã‚Šã—ã¦ã†ã”ã‹ã­ã‡ã£ã¦ãªã£ãŸã®ã§HEADã‚’ä½¿ã†ã“ã¨ã§è§£æ±ºã€‚</p>

<h2>ğŸ»</h2>

<p>ã¨ã‚Šã‚ãˆãšã„ã¤ã‚‚ã®ãƒ¡ãƒ³ãƒãƒ¼ã§ğŸ»ã«ã„ã£ã¦ããŸã€‚æµ…è‰ã®ã‚«ãƒ³ãƒ”ã‚ªãƒ³ã‚¨ãƒ¼ãƒ«ã¨ã„ã†åº—ã§ã®ã‚“ã§ãã®ã‚ã¨éš£ã®åº—ã§ãŠå¥½ã¿ç„¼ãã‚’ãŸã¹ã¦ãŸã€‚ãŠå¥½ã¿ç„¼ãå±‹ã®ã‚ã¨ã¯æ²³åŸã¾ã§ã‚ã‚‹ã¦å¾å¦»æ©‹ã‹ã‚‰ã¿ãˆã‚‹
ã‚„ã¤ã‚’ãªãŒã‚ãªãŒã‚‰ãƒ“ãƒ¼ãƒ«ã®ã‚“ã§ãŸ</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[use red-arrow.gem]]></title>
    <link href="http://blog.katsyoshi.org/blog/2017/05/31/use-red-arrow-dot-gem/"/>
    <updated>2017-05-31T23:27:57+09:00</updated>
    <id>http://blog.katsyoshi.org/blog/2017/05/31/use-red-arrow-dot-gem</id>
    <content type="html"><![CDATA[<p><a href="https://blog.katsyoshi.org/blog/2017/05/29/installing-apache-arrow/">ã“ãªã„ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a> ã—ãŸ <a href="https://arrow.apache.org/">Apache Arrow</a> ãŒã¨ã‚Šã‚ãˆãš <a href="https://github.com/red-data-tools/red-arrow">Ruby</a> ã§ã†ã”ãã‚ˆã†ã«ãªã£ãŸã®ã§ãƒ¡ãƒ¢</p>

<h2>ãƒ¡ãƒ¢</h2>

<p>gemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å‰å›ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œãªãˆã°å•é¡Œãªã„ã§ã™ã€‚ã§ã™ãŒã€arrowã‚’åˆ©ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ã¨å¤±æ•—ã—ã¾ã™ã€‚</p>

<p><code>ruby
require "arrow"
/home/katsu/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/gobject-introspection-3.1.4/lib/gobject-introspection/loader.rb:37:in `require':GObjectIntrospection::RepositoryError::TypelibNotFound: Typelib file for namespace 'Arrow' (any version) not found
</code></p>

<p>ã“ã‚Œã¯ <code>GObjectIntrospection</code> ã®<a href="https://github.com/red-data-tools/red-arrow/blob/master/lib/arrow.rb#L25">ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—</a>ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚
ãªã®ã§<a href="http://www.clear-code.com/blog/2013/12/16.html">ã“ã“</a>ã‚„<a href="http://qiita.com/groonga/items/71b145b37d77bd160bf2">ã“ã“</a>ã‚’å‚è€ƒã«ç’°å¢ƒå¤‰æ•° <code>GI_TYPELIB_PATH</code> ã‚’è¨­å®šã™ã‚‹ã¨èª­ã¿è¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šå®Ÿè¡Œã§ãã¾ã™ã€‚</p>

<p><code>console
$ export GI_TYPELIB_PATH=/path/to/girepository-1.0
$ irb -rarrow
</code></p>

<p>ã¨ã‚„ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒãªããªã‚Šã¾ã™ã€‚</p>

<p>æœ€å¾Œã«<a href="https://github.com/red-data-tools/red-arrow/tree/master/example">ã‚µãƒ³ãƒ—ãƒ«</a>ã‚’å®Ÿè¡Œã—ã¦ç¢ºèªã—ã¾ã—ãŸ!</p>

<p>```console
% ruby write-file.rb</p>

<h1>% ruby read-file.rb</h1>

<p>record-batch[0]:
  uint8: [1, 2, 4, 8]
  uint16: [1, 2, 4, 8]
  uint32: [1, 2, 4, 8]
  uint64: [1, 2, 4, 8]
  int8: [1, -2, 4, -8]
  int16: [1, -2, 4, -8]
  int32: [1, -2, 4, -8]
  int64: [1, -2, 4, -8]
  float: [1.100000023841858, -2.200000047683716, 4.400000095367432, -8.800000190734863]</p>

<h1>  double: [1.1, -2.2, 4.4, -8.8]</h1>

<p>record-batch[1]:
  uint8: [2, 4, 8]
  uint16: [2, 4, 8]
  uint32: [2, 4, 8]
  uint64: [2, 4, 8]
  int8: [-2, 4, -8]
  int16: [-2, 4, -8]
  int32: [-2, 4, -8]
  int64: [-2, 4, -8]
  float: [-2.200000047683716, 4.400000095367432, -8.800000190734863]
  double: [-2.2, 4.4, -8.8]
```</p>

<h2>ãŠã‚ã‚Š</h2>

<p>æœ€åˆã‚ãƒ¼ã©ãˆã‚‰ãƒ¼ã§ã“ã¾ã£ã¦ãŸ</p>
]]></content>
  </entry>
  
</feed>
