# Project Log with Codex（プロジェクトふりかえり）

この CLI を作り始めた当初の目的は「ローカルの SQLite にちょっとした予定を書き留めたい」だけでした。最初のマイルストーンは rusqlite を使って土台となる CLI を用意し、`add` `list` `delete` を実装したことです。タグや duration、終日イベントの扱いにも対応できたので、その勢いで「DB に入っている予定を他のツールでも見られるようにしよう」と RSS/iCal の出力を追加しました。その際、後でインポートする時に重複を避けられるよう UID を必ず持たせています。

ほどなくしてインポート機能も必要になりました。最初はローカルの `.ics` ファイルを読むだけでしたが、重複 UID をスキップするように実装。README や `AGENTS.md` といったドキュメントにも力を入れ、PR テンプレートを定めたり、Tailscale 越しに DB を共有する方法を記録したりしました。忘れっぽい自分の備忘録としても役立っています。

品質確保のために GitHub Actions を早めに導入し、すべての PR が `cargo fmt` / `cargo clippy` / `cargo test` を通るようにしました。同時にリファクタも進め、肥大化していた `commands.rs` を events/feeds/import のモジュールに分割。設定ファイルも `[rss]` `[ical]` `[import]` とセクション化しつつ旧形式のキーも読めるようにし、README の記述をシンプルにしました。

今後のタスクもある程度見えており、issue (#4, #5, #6, #7, #9, #10) に列挙済みです。たとえば SSH/Tailscale での共有をもっと便利にする、Docker イメージを公開する、URL から ICS を取り込む、WASM + Workers/R2 で Web 版に挑戦する、自動テストやバックアップコマンドを整備する、など。現時点ではこのログが “プロジェクトのストーリー” をまとめる役割を果たしているので、ブログを書くときや作業を中断して戻るときにも読み返せます。

……と格好つけつつ、実際には「この README のここを書き換えて」「PR 本文にこれを入れて」「ブログ書くのにこのログを日本語でまとめて」など、ユーザー（ぼく自身）からの細かい（ときにクソみたいな）指示もその都度さばいています。そうした “舞台裏のやりとり” も含めて、このファイルに残しておくと後で読み返したときにニヤッとできるので、少し砕けたメモもあえて残しておくことにしました。
